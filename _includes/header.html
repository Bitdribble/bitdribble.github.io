<header class="bg-gray-900 text-white min-h-[60px] flex items-center border-b border-gray-600">

  <div class="max-w-6xl mx-auto px-5 flex items-center justify-between min-h-[60px] w-full">
    <a class="text-3xl ml-25 font-semibold tracking-tight text-white no-underline hover:text-gray-300 transition-colors duration-200" rel="author" href="{{ "/" | relative_url }}">{{ site.title | escape }}</a>

    {%- if site.header_pages -%}
      <nav class="flex items-center ml-auto">
        <div class="flex items-center space-x-0" id="nav-menu">
          {%- for item in site.header_pages -%}
            {%- if item.children -%}
              <div class="relative group">
                <a class="inline-flex items-center gap-1 px-4 py-2 text-blue-400 no-underline font-normal transition-colors duration-200 hover:text-blue-300 cursor-pointer visited:text-blue-400" href="javascript:void(0)">
                  {{ item.title | escape }}
                  <span class="text-xs transition-transform duration-200 group-hover:rotate-180">â–¼</span>
                </a>
                <div class="absolute top-full left-0 bg-gray-800 border border-gray-600 rounded shadow-lg min-w-[200px] z-50 opacity-0 invisible -translate-y-2 transition-all duration-200 group-hover:opacity-100 group-hover:visible group-hover:translate-y-0 py-1 text-left pointer-events-none group-hover:pointer-events-auto" style="background-color: #374151 !important;">
                  {%- for child in item.children -%}
                    <a class="block px-3 py-1 text-blue-400 no-underline font-normal transition-colors duration-200 hover:bg-gray-800 hover:text-blue-300 visited:text-blue-400" href="{{ child.url | relative_url }}">{{ child.title | escape }}</a>
                  {%- endfor -%}
                </div>
              </div>
            {%- else -%}
              <a class="inline-block px-4 py-2 text-blue-400 no-underline font-normal transition-colors duration-200 hover:text-blue-300 visited:text-blue-400" href="{{ item.url | relative_url }}">{{ item.title | escape }}</a>
            {%- endif -%}
          {%- endfor -%}
        </div>
      </nav>
    {%- endif -%}
  </div>
</header>

<style>
/* Ensure dropdowns work properly */
.group:hover .group-hover\:opacity-100 {
  opacity: 1;
}

.group:hover .group-hover\:visible {
  visibility: visible;
}

.group:hover .group-hover\:translate-y-0 {
  transform: translateY(0);
}

.group:hover .group-hover\:pointer-events-auto {
  pointer-events: auto;
}

/* Prevent visited link color changes */
#nav-menu a:visited {
  color: #60a5fa !important; /* text-blue-400 */
}

#nav-menu a:hover:visited {
  color: #93c5fd !important; /* text-blue-300 */
}
</style>
